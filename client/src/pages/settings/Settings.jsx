import { useState } from 'react'
import { useAuth } from '../../contexts/AuthContext.jsx'
export default function Settings(){ const { api } = useAuth(); const [itype,setItype]=useState('email'); const [config,setConfig]=useState('{"provider":"smtp"}'); const [msg,setMsg]=useState(''); async function save(e){ e.preventDefault(); try{ await api.post('/api/integrations/settings', { itype, config: JSON.parse(config) }); setMsg('Saved!') } catch (e){ setMsg('Failed: ' + (e?.response?.data?.error || e.message)) } }
return (<div className="space-y-4"><h1 className="text-2xl font-bold">Settings</h1><form onSubmit={save} className="card space-y-2 max-w-lg"><div className="font-medium">Integration Settings</div><input className="input" value={itype} onChange={e=>setItype(e.target.value)} placeholder="Type (email, payroll...)" /><textarea className="input h-40" value={config} onChange={e=>setConfig(e.target.value)} /><button className="btn">Save</button>{msg && <div className="text-sm">{msg}</div>}</form></div>) }
